#!/usr/bin/env python3
"""
todo.py - simples gerenciador de tarefas (CLI) com armazenamento em JSON.

Uso:
  python todo.py add "Comprar ração" --due 2025-11-02
  python todo.py list
  python todo.py done 3
  python todo.py remove 2
  python todo.py search ração
"""

from __future__ import annotations
import argparse
import json
from dataclasses import dataclass, asdict
from datetime import datetime
from pathlib import Path
import tempfile
import uuid
from typing import List, Optional

STORAGE_PATH = Path.home() / ".todo.json"
DATE_FORMAT = "%Y-%m-%d"

@dataclass
class Task